<?xml version="1.0" encoding="UTF-8"?>
 <ui:composition 
    template="/WEB-INF/templates/mgmt_master.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">
     
     
     <ui:define name="title">
         <h:outputText value="Survey"></h:outputText>
     </ui:define>
     
     <ui:define name="content">
         
         <f:view>


             <h:form>
                 <h1><h:outputText value="#{bundle.editHeader}"/></h1>
                 <p:panelGrid columns="3">
                     <p:outputLabel value="Id:" for="id" />
                     <p:outputLabel id="id" value="#{surveyBacking.current.id}" title="Id"/>
                     <p:outputLabel />
                     
                     <p:outputLabel value="Question:" for="question" />
                     <p:inputText id="question" value="#{surveyBacking.current.question}" title="Question" required="true" requiredMessage="#{bundle.survey_error_msg1}"/>
                     <p:messages for="question" autoUpdate="true" />
                     
                     <p:outputLabel value="Visible:" />
                     <h:selectOneRadio value="#{surveyBacking.current.visible}">
                        <f:selectItem itemValue="true" itemLabel="#{bundle.nf_visible}" />
                        <f:selectItem itemValue="false" itemLabel="#{bundle.nf_hidden}" />	   			
                    </h:selectOneRadio>	
                     <p:outputLabel />
                     
                 </p:panelGrid>
             
             
             
             <h1><h:outputText value="#{bundle.surOpHeader}"/></h1>
             
             <p:dataTable value="#{surveyBacking.current.surveyChoices}" var="item">
                     <p:column>
                         <f:facet name="header">
                             <h:outputText value="choice"/>
                         </f:facet> 
                         <p:inputText id="choice" value="#{item.choice}" title="Choice" required="true" requiredMessage="#{bundle.survey_error_msg2}"/>
                     </p:column>
                    <p:column>
                        <p:messages for="choice" autoUpdate="true" />
                    </p:column>
             </p:dataTable>
             
             
             
             <p:commandButton value="Save" action="#{surveyBacking.editItem()}" ajax="false">
             </p:commandButton>
             
             </h:form>
             
             <p:link outcome="List" value="Back"></p:link>
             
         </f:view>

         
     </ui:define>
     
</ui:composition>