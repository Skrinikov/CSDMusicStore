<?xml version="1.0" encoding="UTF-8"?>

 <ui:composition 
    template="/WEB-INF/templates/mgmt_master.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">
     
     <ui:define name="title">
            <h:outputText value="Survey"></h:outputText>
     </ui:define>
     
     <ui:define name="placeholder-css">
        <h:outputStylesheet library="css" name="mgmt_crud.css" />
    </ui:define>
     
     <ui:define name="content">
                     
         <f:view>
             <h1><h:outputText value="#{bundle.listHeader}"/></h1>
             
             <p:commandButton styleClass="mgmt_btn" id="create" value="#{bundle.createBtn}" title="Icon Only" action="#{surveyBacking.redirectCreate()}">               
             </p:commandButton>
            <h:form id="surveyInfo">
                 
                 <p:dataTable id="data" value="#{surveyController.findSurveyEntities()}" var="item"
                               paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                               paginator="true" rows="10" style="margin-bottom:20px"
                               reflow="true"
                               resizableColumns="true"  rowStyleClass="mgmt_table_row">
                     <p:column>
                         <f:facet name="header">
                             <h:outputText value="Id"/>
                         </f:facet>
                         <h:outputText value="#{item.id}"/>
                     </p:column>
                     <p:column>
                         <f:facet name="header">
                             <h:outputText value="Question"/>
                         </f:facet>
                         <h:outputText value="#{item.question}"/>
                     </p:column>
                     <p:column>
                         <f:facet name="header">
                             <h:outputText value="Visible"/>
                         </f:facet>
                         <h:outputText value="#{item.visible}"/>
                     </p:column>
                     
                     <p:column>
                         <p:commandButton styleClass="mgmt_btn" id="delete" update="data" value="#{bundle.deleteBtn}" title="Icon Only" action="#{surveyBacking.deleteItem(item.id)}">               
                        </p:commandButton>
                         
                         <p:commandButton styleClass="mgmt_btn" id="edit" value="#{bundle.editBtn}" title="Icon Only" action="#{surveyBacking.redirectToSurveyEdit(item.id)}">               
                        </p:commandButton>

                     </p:column>
             
                 </p:dataTable>
             </h:form>
         </f:view>          
     </ui:define>    
 </ui:composition> 
    
    
    
    
