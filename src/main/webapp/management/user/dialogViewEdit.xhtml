<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">

    <h:form id="dialogForm">
        <p:outputPanel id="testViewEdit">
            <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
            <h:outputText value="nothing selected" rendered="#{empty theUsers.selectedUser}"/>

            <h:panelGrid columns="2" rendered="#{not theUsers.editable and not empty theUsers.selectedUser}">
                <h:outputText value="Id:"/>
                <h:outputText value="#{theUsers.selectedUser.id}" title="Id"/>
                <h:outputText value="Username:"/>
                <h:outputText value="#{theUsers.selectedUser.username}" title="Username"/>            
                <h:outputText value="Title:"/>
                <h:outputText value="#{theUsers.selectedUser.title}" title="Title"/>
                <h:outputText value="FirstName:"/>
                <h:outputText value="#{theUsers.selectedUser.firstName}" title="FirstName"/>
                <h:outputText value="LastName:"/>
                <h:outputText value="#{theUsers.selectedUser.lastName}" title="LastName"/>
                <h:outputText value="Company:"/>
                <h:outputText value="#{theUsers.selectedUser.company}" title="Company"/>
                <h:outputText value="Address1:"/>
                <h:outputText value="#{theUsers.selectedUser.address1}" title="Address1"/>
                <h:outputText value="Address2:"/>
                <h:outputText value="#{theUsers.selectedUser.address2}" title="Address2"/>
                <h:outputText value="City:"/>
                <h:outputText value="#{theUsers.selectedUser.city}" title="City"/>
                <h:outputText value="Country:"/>
                <h:outputText value="#{theUsers.selectedUser.country}" title="Country"/>
                <h:outputText value="PostalCode:"/>
                <h:outputText value="#{theUsers.selectedUser.postalCode}" title="PostalCode"/>
                <h:outputText value="HomeTel:"/>
                <h:outputText value="#{theUsers.selectedUser.homeTel}" title="HomeTel"/>
                <h:outputText value="CellTel:"/>
                <h:outputText value="#{theUsers.selectedUser.cellTel}" title="CellTel"/>
                <h:outputText value="Email:"/>
                <h:outputText value="#{theUsers.selectedUser.email}" title="Email"/>
                <h:outputText value="IsAdmin:"/>
                <h:outputText value="#{theUsers.selectedUser.isAdmin}" title="IsAdmin"/>
                <h:outputText value="Province:"/>
                <h:outputText value="#{theUsers.selectedUser.province}" title="Province"/>               
                <h:outputText value="LastGenre:"/>
                <h:outputText value="#{theUsers.selectedUser.lastGenre}" title="LastGenre"/>
                <h:outputText value="TotalSales:"/>
                <h:outputText value="#{theUsers.getTotalSales()}" title="LastGenre">
                    <f:convertNumber maxFractionDigits="2" />
                </h:outputText>

                <p:commandButton class="mgmt_btn" actionListener="#{theUsers.makeEditable()}" value="#{bundle.mgmt_btn_edit}" update="dialogForm"/>                             
            </h:panelGrid>


            <p:panelGrid columns="2" class="mgmt_edit"  rendered="#{theUsers.editable and not empty theUsers.selectedUser}">

                <p:outputLabel value="Id:" for="id" />
                <p:inputText id="id" value="#{theUsers.selectedUser.id}" title="Id" disabled="true"/>
                <p:outputLabel value="Username:" for="username" />
                <p:inputText id="username" value="#{theUsers.selectedUser.username}" title="Username" required="true" requiredMessage="The Username field is required."/>
                <p:outputLabel value="Title:" for="title" />
                <p:inputText id="title" value="#{theUsers.selectedUser.title}" title="Title" required="true" requiredMessage="The Title field is required."/>
                <p:outputLabel value="FirstName:" for="firstName" />
                <p:inputText id="firstName" value="#{theUsers.selectedUser.firstName}" title="FirstName" required="true" requiredMessage="The FirstName field is required."/>
                <p:outputLabel value="LastName:" for="lastName" />
                <p:inputText id="lastName" value="#{theUsers.selectedUser.lastName}" title="LastName" required="true" requiredMessage="The LastName field is required."/>
                <p:outputLabel value="Company:" for="company" />
                <p:inputText id="company" value="#{theUsers.selectedUser.company}" title="Company" />
                <p:outputLabel value="Address1:" for="address1" />
                <p:inputText id="address1" value="#{theUsers.selectedUser.address1}" title="Address1" required="true" requiredMessage="The Address1 field is required."/>
                <p:outputLabel value="Address2:" for="address2" />
                <p:inputText id="address2" value="#{theUsers.selectedUser.address2}" title="Address2" />
                <p:outputLabel value="City:" for="city" />
                <p:inputText id="city" value="#{theUsers.selectedUser.city}" title="City" required="true" requiredMessage="The City field is required."/>
                <p:outputLabel value="Country:" for="country" />
                <p:inputText id="country" value="#{theUsers.selectedUser.country}" title="Country" required="true" requiredMessage="The Country field is required."/>
                <p:outputLabel value="PostalCode:" for="postalCode" />
                <p:inputText id="postalCode" value="#{theUsers.selectedUser.postalCode}" title="PostalCode" required="true" requiredMessage="The PostalCode field is required."/>
                <p:outputLabel value="HomeTel:" for="homeTel" />
                <p:inputText id="homeTel" value="#{theUsers.selectedUser.homeTel}" title="HomeTel" />
                <p:outputLabel value="CellTel:" for="cellTel" />
                <p:inputText id="cellTel" value="#{theUsers.selectedUser.cellTel}" title="CellTel" />
                <p:outputLabel value="Email:" for="email" />
                <p:inputText id="email" value="#{theUsers.selectedUser.email}" title="Email" required="true" requiredMessage="The Email field is required."/>
                <p:outputLabel value="IsAdmin:" for="isAdmin" />
                <p:selectBooleanButton id="isAdmin" value="#{theUsers.selectedUser.isAdmin}" onLabel="True" offLabel="False"/>
                <p:outputLabel value="Province:" for="province" />
                <p:selectOneMenu id="province" value="#{theUsers.selectedUser.province}" converter="#{ProvinceConverter}">
                    <f:selectItems value="#{Province.provinces}"/>
                </p:selectOneMenu>
                <p:outputLabel value="LastGenre:" for="lastGenre" />
                <p:inputText id="lastGenre" value="#{theUsers.selectedUser.lastGenre}" disabled="true"/>                           
                
                <p:commandButton actionListener="#{theUsers.edit()}" value="#{bundle.mgmt_btn_save}" update="form,dialogForm:testViewEdit" class="mgmt_btn">
                    <p:confirm header="Confirmation" message="Are you sure?" icon="ui-icon-alert" />             
                </p:commandButton>

                <p:commandButton actionListener="#{theUsers.makeUneditable()}" value="#{bundle.mgmt_btn_cancel}" class="mgmt_btn" update="dialogForm"/> 

                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                    <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                </p:confirmDialog>   

            </p:panelGrid>

            <p:commandButton  value="Exit" onclick="PF('dialogViewEdit').hide()"/>

        </p:outputPanel>
    </h:form>  
</ui:composition>