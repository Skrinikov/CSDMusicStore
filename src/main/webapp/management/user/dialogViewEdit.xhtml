<!--
        @author Sarah Mouffok
        @author Thai-Vu Nguyen    
-->
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">

    <h:form id="dialogForm">

        <h:outputText value="#{bundle.NothingSelected}" rendered="#{empty theUsers.selectedUser}"/>

            <h:panelGrid columns="2" rendered="#{not theUsers.editable and not empty theUsers.selectedUser}" styleClass="customgrid" >
                <h:outputText value="#{bundle.user_id}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.id}"/>
                <h:outputText value="#{bundle.user_username}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.username}"/>            
                <h:outputText value="#{bundle.user_title}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.title}"/>
                <h:outputText value="#{bundle.user_first_name}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.firstName}"/>
                <h:outputText value="#{bundle.user_last_name}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.lastName}" />
                <h:outputText value="#{bundle.user_company}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.company}"/>
                <h:outputText value="#{bundle.user_address_1}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.address1}" />
                <h:outputText value="#{bundle.user_address_2}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.address2}"/>
                <h:outputText value="#{bundle.user_city}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.city}"/>
                <h:outputText value="#{bundle.user_country}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.country}"/>
                <h:outputText value="#{bundle.user_postal_code}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.postalCode}"/>
                <h:outputText value="#{bundle.user_home_tel}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.homeTel}"/>
                <h:outputText value="#{bundle.user_cell_tel}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.cellTel}" />
                <h:outputText value="#{bundle.user_email}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.email}" />
                <h:outputText value="#{bundle.user_is_admin}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.isAdmin}"/>
                <h:outputText value="#{bundle.user_province}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.province}" />               
                <h:outputText value="#{bundle.user_last_genre}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.selectedUser.lastGenre}" />
                <h:outputText value="#{bundle.user_total_sales}:" class="mgmt_detail_label"/>
                <h:outputText value="#{theUsers.getTotalSales()}">
                    <f:convertNumber maxFractionDigits="2" />
                </h:outputText>

                <p:commandButton class="mgmt_btn" id="editButton" actionListener="#{theUsers.makeEditable()}" value="#{bundle.mgmt_btn_edit}" update="dialogForm"/>                             
            </h:panelGrid>

            <p:panelGrid columns="2" rendered="#{theUsers.editable and not empty theUsers.selectedUser}">

                <p:outputLabel value="#{bundle.user_id}:" for="id" />
                <p:inputText id="id" value="#{theUsers.selectedUser.id}" disabled="true"/>
                <p:outputLabel value="#{bundle.user_username}:" for="username" />
                <p:inputText id="username" value="#{theUsers.selectedUser.username}" required="true" requiredMessage="#{bundle.user_username_required}"/>
                <p:outputLabel value="#{bundle.user_title}:" for="title" />
                <p:inputText id="title" value="#{theUsers.selectedUser.title}" required="true" requiredMessage="#{bundle.user_title_required}"/>
                <p:outputLabel value="#{bundle.user_first_name}:" for="firstName" />
                <p:inputText id="firstName" value="#{theUsers.selectedUser.firstName}" required="true" requiredMessage="#{bundle.user_first_name_required}"/>
                <p:outputLabel value="#{bundle.user_last_name}:" for="lastName" />
                <p:inputText id="lastName" value="#{theUsers.selectedUser.lastName}" required="true" requiredMessage="#{bundle.user_last_name_required}"/>
                <p:outputLabel value="#{bundle.user_company}:" for="company" />
                <p:inputText id="company" value="#{theUsers.selectedUser.company}" />
                <p:outputLabel value="#{bundle.user_address_1}:" for="address1" />
                <p:inputText id="address1" value="#{theUsers.selectedUser.address1}" required="true" requiredMessage="#{bundle.user_address_1_required}"/>
                <p:outputLabel value="#{bundle.user_address_2}:" for="address2" />
                <p:inputText id="address2" value="#{theUsers.selectedUser.address2}"/>
                <p:outputLabel value="#{bundle.user_city}:" for="city" />
                <p:inputText id="city" value="#{theUsers.selectedUser.city}" required="true" requiredMessage="#{bundle.user_city_required}"/>
                <p:outputLabel value="#{bundle.user_country}:" for="country" />
                <p:inputText id="country" value="#{theUsers.selectedUser.country}" required="true" requiredMessage="#{bundle.user_country_required}"/>
                <p:outputLabel value="#{bundle.user_postal_code}:" for="postalCode" />
                <p:inputText id="postalCode" value="#{theUsers.selectedUser.postalCode}" required="true" requiredMessage="#{bundle.user_postal_code_required}"/>
                <p:outputLabel value="#{bundle.user_home_tel}:" for="homeTel" />
                <p:inputText id="homeTel" value="#{theUsers.selectedUser.homeTel}" />
                <p:outputLabel value="#{bundle.user_cell_tel}:" for="cellTel" />
                <p:inputText id="cellTel" value="#{theUsers.selectedUser.cellTel}" />
                <p:outputLabel value="#{bundle.user_email}:" for="email" />
                <p:inputText id="email" value="#{theUsers.selectedUser.email}" required="true" requiredMessage="#{bundle.user_email_required}"/>
                <p:outputLabel value="#{bundle.user_is_admin}:" for="isAdmin" />
                <p:selectBooleanButton id="isAdmin" class="mgmt_btn" value="#{theUsers.selectedUser.isAdmin}" onLabel="#{bundle.yes}" offLabel="#{bundle.no}"/>
                <p:outputLabel value="#{bundle.user_province}:" for="province" />   
                <p:autoComplete id="province" dropdown="true" value="#{theUsers.selectedUser.province}" var="province" itemLabel="#{province.name}" 
                                itemValue="#{province}" completeMethod="#{ProvinceConverter.suggest}" converter="#{ProvinceConverter}"/>
                <p:outputLabel value="#{bundle.user_last_genre}:" for="lastGenre" />
                <p:inputText id="lastGenre" value="#{theUsers.selectedUser.lastGenre}" disabled="true"/>                           

                <p:commandButton actionListener="#{theUsers.edit()}" id="saveButton" value="#{bundle.mgmt_btn_save}" update="form,dialogForm" class="mgmt_btn">
                      
                </p:commandButton>

                <p:commandButton actionListener="#{theUsers.makeUneditable()}" value="#{bundle.mgmt_btn_cancel}" class="mgmt_btn" update="dialogForm"/> 

            </p:panelGrid> 

        <p:commandButton  value="#{bundle.mgmt_btn_exit}" id="exitButton" onclick="PF('dialogViewEdit').hide()" class="mgmt_btn"/>

    </h:form>  
</ui:composition>
