<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">

    <h:form id="dialogForm2">

        <h:panelGrid columns="2">
            <h:outputLabel value="#{bundle.genre_name}:" for="name"/>
            <h:inputText id="name" value="#{theGenres.createdGenre.name}" required="true" requiredMessage="#{bundle.genre_name_required}"/>

            <p:commandButton class="mgmt_btn" value="#{bundle.mgmt_btn_create}"  actionListener="#{theGenres.create()}" update="form,dialogForm,dialogForm2"/>
            <p:commandButton class="mgmt_btn" value="#{bundle.mgmt_btn_exit}" onclick="PF('dialogCreate').hide()"/>

            <h:panelGroup>
                <script>
                    if (#{!facesContext.validationFailed}) {
                        PF('dialogCreate').hide();
                        PF('dialogViewEdit').show();
                        PF('genreTable').paginator.setPage(#{theGenres.getPageCount()});
                    }
                </script>
            </h:panelGroup>
            
        </h:panelGrid>
    </h:form>

</ui:composition>


