<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <div class="navbar-more-overlay"></div>
    <nav class="navbar navbar-inverse navbar-fixed-top animate">
        <div class="container navbar-more visible-xs">
            <form class="navbar-form navbar-left" role="search">
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search for..."/>
                        <span class="input-group-btn">
                            <button class="btn btn-danger" type="submit">Submit</button>
                        </span>
                    </div>
                </div>
            </form>
            <ul class="nav navbar-nav" style="color: #fff">
                <li><a href="#"><span class="menu-icon fa fa-shopping-cart"></span>Shopping Cart</a></li>z
                <li><a href="#"><span class="menu-icon fa fa-sign-out"></span>Disconnect</a></li>                  
            </ul>
        </div>
        <div class="container">
            <div class="navbar-header hidden-xs">
                <h:link outcome="/index.xhtml" class="navbar-brand">Fractals</h:link>
            </div>

            <ul class="nav navbar-nav navbar-right mobile-bar">
               <!-- we don't use that <li>
                    <a href="#">
                        <span class="menu-icon fa fa-user"></span>
                        Profile
                    </a>
                </li>-->
                <li>
                    <h:link outcome="/client/search.xhtml">
                        <span class="menu-icon fa fa-music"></span>
                        <span class="hidden-xs">Browse</span>
                        <span class="visible-xs">Browse</span>
                    </h:link>
                </li>
                <li>
                    <h:link outcome="/downloads/library.xhtml">
                        <span class="menu-icon fa fa-download"></span>
                        Downloads
                    </h:link>
                </li>
                
                <!-- use browse for that <li class="hidden-xs">
                    <form class="navbar-form navbar-left" role="search">
                        <div class="form-group">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Search for..."/>
                                <span class="input-group-btn">
                                    <button class="btn btn-danger" type="submit">Submit</button>
                                </span>
                            </div>
                        </div>
                    </form>
                </li>-->
                <li class="hidden-xs">
                    <h:link outcome="/client/shopping_cart.xhtml" >
                        <span class="menu-icon fa fa-shopping-cart"></span>
                        #{bundle.shopcart} (<ui:fragment>#{cart.totalItems()}</ui:fragment>)
                    </h:link>
                </li>
                
                <ui:fragment rendered="#{login.loggedIn}">
                <li class="hidden-xs">
                    <h:form>
                        <h:commandLink value="#{bundle.sign_out}" class="nav-sign-out navbar-inverse" >
                            <f:ajax listener="#{login.logout()}" render="@all" />
                            <span class="menu-icon fa fa-sign-out"></span>
                        </h:commandLink>
                    </h:form>
                </li>
                </ui:fragment>
                
                <ui:fragment rendered="#{!login.loggedIn}">
                <li class="hidden-xs">
                    <h:link outcome="/client/login.xhtml" >
                        <span class="menu-icon fa fa-sign-in"></span>
                        #{bundle.login}
                    </h:link>
                </li>
                </ui:fragment>
                <ui:fragment rendered="#{!login.loggedIn}">
                <li class="hidden-xs">
                    <h:link outcome="/client/register.xhtml" >
                        <span class="menu-icon fa fa-user-plus"></span>
                        #{bundle.register}
                    </h:link>
                </li>
                </ui:fragment>
                
                <li class="visible-xs">
                    <a href="#navbar-more-show">
                        <span class="menu-icon fa fa-bars"></span>
                        More
                    </a>                     
                </li>
            </ul>
        </div>
    </nav>
</ui:composition>
