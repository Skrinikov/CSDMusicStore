<?xml version="1.0" encoding="UTF-8"?>
<!--

    This page will display all existing news Feeds to the manager.

    @author Renuchan
-->

<ui:composition 
    template="/WEB-INF/templates/mgmt_master.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="title">
        <h:outputText value="#{bundle.nf_title}"></h:outputText>
    </ui:define>

    <ui:define name="content">

        <f:view>

            <h:form>
                <h1><h:outputText value="#{bundle.nf_list}"/></h1>
                
                <p:commandButton icon="ui-icon-plus" action="#{nfsBackingBean.prepareChange(0)}">               
                </p:commandButton>
                
                <p:dataTable id="data" value="#{nfsBackingBean.allNews}" var="item"
                             paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                             paginator="true" rows="10" style="margin-bottom:20px">
                    <p:column>                      
                        <f:facet name="header">
                            <h:outputText value="Id"/>
                        </f:facet>
                        <h:outputText value="#{item.id}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Link"/>
                        </f:facet>
                        <h:outputText value="#{item.link}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Source"/>
                        </f:facet>
                        <h:outputText value="#{item.source}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Visible"/>
                        </f:facet>
                        <h:outputText value="#{item.visible}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Operation"/>
                        </f:facet>

                        <p:commandButton update="data" icon="ui-icon-trash" action="#{nfsBackingBean.deleteNews(item.id)}">               
                        </p:commandButton>

                        <p:commandButton icon="ui-icon-pencil" action="#{nfsBackingBean.prepareChange(item.id)}">               
                        </p:commandButton>

                    </p:column>
                </p:dataTable>             
            </h:form>

        </f:view>          
    </ui:define>    
</ui:composition> 
